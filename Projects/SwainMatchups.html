<!DOCTYPE html>
<html>
<head>
  <title>Dan Herman Games</title>
  <link rel="stylesheet" type="text/css" href="../styles.css" />
  <style>
body {
  font-family: sans-serif;
  text-align: center;
  background: #970f0f;
}

header {
  margin-bottom: 20px;
}

#info-box {
  position: relative;
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 20px;
  border-radius: 8px;
  margin: 0 auto 20px auto;
  max-width: 600px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  background-blend-mode: overlay;
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  text-shadow: 1px 1px 4px black;
}

#search-bar {
  margin: 0 auto 15px auto;
  max-width: 400px;
}

#search-input {
  width: 100%;
  padding: 10px;
  border-radius: 8px;
  border: none;
  font-size: 16px;
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.3);
}

#portrait-grid,
.difficulty-group div {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
}

.portrait {
  cursor: pointer;
  width: 100px;
  border-radius: 5px;
  border: 2px solid transparent;
  transition: transform 0.2s;
}

.portrait:hover {
  transform: scale(1.05);
}

.difficulty-group {
  border: 3px solid;
  border-radius: 15px;
  padding: 15px;
  margin: 20px auto;
  max-width: 700px;
  background-color: rgba(255, 255, 255, 0.1);
  box-shadow: 0 0 10px;
}

.difficulty-group h2 {
  margin-top: 0;
  text-shadow: 0 0 5px;
}

ul {
  text-align: left;
  margin-top: 10px;
}

.stars {
  font-size: 1.2em;
  color: gold;
}

.ability-icons {
  display: flex;
  gap: 30px;
  justify-content: center;
  margin-bottom: 10px;
}

.ability-icons div {
  text-align: center;
}

.ability-icons h3 {
  margin-bottom: 5px;
  font-weight: normal;
  font-size: 1em;
  color: white;
  text-shadow: 1px 1px 3px black;
}

.ability-icon,
.highlight-icon {
  width: 100px;
  height: 100px;
  border-radius: 4px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  cursor: pointer;
}

.highlight-icon:hover {
  transform: scale(1.1);
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.6), 0 0 15px rgba(255, 215, 0, 0.4);
}

.item-icons {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 10px;
}

.item-icon {
  width: 48px;
  height: 48px;
  transition: transform 0.2s ease;
}

.item-icon:hover {
  transform: scale(1.1);
}

/* Tether now refers to any keyword popup*/
.tether-popup {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
}

.tether-popup-content {
  background: #222;
  color: white;
  padding: 20px;
  border-radius: 10px;
  max-width: 400px;
  box-shadow: 0 0 15px rgba(255,255,255,0.2);
  text-align: center;
}

.tether-popup-content h3 {
  margin-top: 0;
}

.tether-popup-content button {
  display: block;
  margin: 15px auto 0;
  padding: 8px 16px;
  font-size: 1em;
  background: #970f0f;
  border: none;
  color: white;
  border-radius: 8px;
  cursor: pointer;
}

  </style>
</head>
<body>
  <header>
    <nav>
      <ul>
        <li><a href="../index.html"> Home</a></li>
        <li><a href="../school.html">School</a></li>
        <li><a href="../projects.html">Projects</a></li>
        <li><a href="../games.html">Games</a></li>
        <li><a href="../contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <div id="search-bar">
    <input type="text" id="search-input" placeholder="Search your matchup..." />
  </div>


  <div id="info-box">
    <h2>Select a character</h2>
    <p>Their matchup info will appear here.</p>
  </div>


  <div id="portrait-container"></div>

<script>
  const abilityImages = {
    Q: "https://ddragon.leagueoflegends.com/cdn/15.2.1/img/spell/SwainQ.png",
    E: "https://ddragon.leagueoflegends.com/cdn/15.2.1/img/spell/SwainE.png",
  };

  const KeystoneImages = {
    Aery: "https://wiki.leagueoflegends.com/en-us/images/thumb/Summon_Aery_rune.png/64px-Summon_Aery_rune.png?aab8d",
    PhaseRush: "https://wiki.leagueoflegends.com/en-us/images/thumb/Phase_Rush_rune.png/64px-Phase_Rush_rune.png?61721",
  };

  const characters = [
{
  name: "Galio",
  difficulty: 1,
  abilitystart: "Q",
  keystoneStart: "Aery",
  tips: [
    "Play very aggressively.",
    "Keep his shield down.",
    "You always beat him post 6.",
  ],

    items: [
    "https://www.mobafire.com/images/item/blackfire-torch-64x.png",
  ]
},

        {
      name: "Veigar",
      difficulty: 1,
      abilitystart: "E",
      keystoneStart: "PhaseRush",
      tips: [
        "Avoid his spells, especially his E.",
        "Careful for Q through a minion.",
        "You win the all-in level 6.",
      ],
    },
            {
      name: "Naafiri",
      difficulty: 1,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "She's very weak before level 3.",
        "You can E extend off her dogs.",
        "Dodge second dagger.",
      ],

            items: [
    "https://www.mobafire.com/images/item/plated-steelcaps-64x.png",
    "https://www.mobafire.com/images/item/blackfire-torch-64x.png",
  ]
    },
                {
      name: "Qiyana",
      difficulty: 1,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Weakest level 1 champion.",
        "Be careful at level 3.",
        "Freeze if you can.",
        "Zhonya's is amazing late-game.",
      ],
      items: [
    "https://www.mobafire.com/images/item/plated-steelcaps-64x.png",
    "https://www.mobafire.com/images/item/blackfire-torch-64x.png",
    "https://www.mobafire.com/images/item/zhonyas-hourglass-64x.png",
  ]
    },
                    {
      name: "Malzahar",
      difficulty: 1,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Don't let him push you under tower.",
        "He is extremely weak early-game.",
        "Poke his passive out with your Q.",
        "Shove waves and roam if he plays passively."
      ],

      items: [
    "https://www.mobafire.com/images/item/mercurys-treads-64x.png",
    "https://www.mobafire.com/images/item/blackfire-torch-64x.png",

  ]
    },
      {
      name: "Talon",
      difficulty: 1,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Dodge his W2 or he can all-in you.",
        "Walk up aggressively when his W is down.",
        "Try to get prio so he cannot roam.",
      ],
     items: [
    "https://www.mobafire.com/images/item/plated-steelcaps-64x.png",
    "https://www.mobafire.com/images/item/zhonyas-hourglass-64x.png",
  ]
    },
      {
      name: "Annie",
      difficulty: 1,
      abilitystart: "E",
      keystoneStart: "Aery",
      tips: [
        "Play around her passive, walk up when it is down.",
        "Very little interaction, so shove waves and roam.",
      ],
    },
      {
      name: "Lissandra",
      difficulty: 1,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Be careful standing by the wave, her Q extends of minions.",
        "Stand to the side of the wave.",
        "Keep an eye on the map, as Lissandra can't do much without a gank.",
        "Your E can cancel her E if you time it perfectly.",
      ],
    },
          {
      name: "Zed",
      difficulty: 1,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Zed is very passive pre-6. Try to harass him and force his Q.",
        "If he W's forward, dodge at least one shuriken.",
        "His W cooldown is around 20 seconds early, use that time to harass and play aggressively",
        "His ult always appears behind you, try to time an E to hit him.",
      ],
        items: [
    "https://www.mobafire.com/images/item/plated-steelcaps-64x.png",
    "https://www.mobafire.com/images/item/zhonyas-hourglass-64x.png",
  ]
    },  
    {
      name: "Kassadin",
      difficulty: 1,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Kassadin barely fights back pre-6. Harass him hard.",
        "Try not to Q him when his magic shield (Q) is up.",
        "If he ults pre-11, ult him and run him down.",
      ],
    }, 
     {
      name: "Aurelion Sol",
      difficulty: 1,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Stand behind minions so he cannot Q on you.",
        "Try to deny him farm.",
        "Press W when he uses his Q.",
        "In an all-in, try to hold your E until he uses his flight (W).",
      ],
    }, 
         {
      name: "Ziggs",
      difficulty: 1,
      abilitystart: "E",
      keystoneStart: "PhaseRush",
      tips: [
        "Do not stand in your wave, his Q will explode.",
        "Ziggs will play very passively, so make plays around the map.",
        "Try to play with your jungle and take 2v2 fights or look to roam to sidelanes.",
        "You can use your E to stop him from escaping with his bomb (W).",
      ],
    }, 
             {
      name: "Vex",
      difficulty: 2,
      abilitystart: "E",
      keystoneStart: "PhaseRush",
      tips: [
        "Play around her passive fear.",
        "Try to bait her fear by tethering her abilities.",
        "Sidestep her Q and harass her when her fear is down.",
        "Match her roams or hardshove the wave, you are much stronger than her in 2v2s with your jungler.",
      ],
      items: [
    "https://www.mobafire.com/images/item/mercurys-treads-64x.png",
    "https://www.mobafire.com/images/item/riftmaker-64x.png",
    "https://www.mobafire.com/images/item/spirit-visage-64x.png",
  ]
    }, 
   {
      name: "Zoe",
      difficulty: 2,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Harass when her Q is down.",
        "Do NOT get hit by her bubble, you can all-in if she misses.",
        "Press E on her portal's starting location.",
      ],
      items: [
    "https://www.mobafire.com/images/item/mercurys-treads-64x.png",
  ]
    }, 
     {
      name: "Vladimir",
      difficulty: 2,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Don't trade when his Q is up.",
        "Avoid his empowered Q at all costs.",
        "He's very weak until level 9 when he maxes Q.",
        "He outscales very hard, so play for early game advantages.",
      ],
      items: [
    "https://www.mobafire.com/images/item/mercurys-treads-64x.png",
    "https://www.mobafire.com/images/item/spirit-visage-64x.png",
  ]
    }, 
        {
      name: "Azir",
      difficulty: 5,
      abilitystart: "E",
      keystoneStart: "PhaseRush",
      tips: [
        "You can trade early, but try to avoid interaction.",
        "After first base, trading becomes impossible.",
        "Post level 6, his ult makes you very gankable.",
        "Aggressively all-in when his E-Q combo is down.",
        "You will be outscaled everytime."
      ],
      items: [
    "https://www.mobafire.com/images/item/mercurys-treads-64x.png",
    "https://www.mobafire.com/images/item/spirit-visage-64x.png",
  ]
    },
    {
      name: "Neeko",
      difficulty: 5,
      abilitystart: "E",
      keystoneStart: "PhaseRush",
      tips: [
        "Try to tether her Q (It's impossible to dodge).",
        "Don't stand in minions, it empowers her root.",
        "Buying early boots is a must to space her Q.",
        "You can farm passive stacks on her clone.",
        "Count. Your. Minions."
      ],
      items: [
    "https://www.mobafire.com/images/item/mercurys-treads-64x.png",
    "https://www.mobafire.com/images/item/boots-of-swiftness-64x.png",
  ]
    },

    {
      name: "Akshan",
      difficulty: 4,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Your Q is longer than his autoattack, try to spam him.",
        "He wins extended fights, space him properly.",
        "Do NOT let him freeze.",
        "You can all-in him post level 6 with items.",
        "He is very weak if he falls behind.",
      ],
      items: [
    "https://www.mobafire.com/images/item/plated-steelcaps-64x.png",
    "https://www.mobafire.com/images/item/frozen-heart-64x.png",
  ]
    },

        {
      name: "Hwei",
      difficulty: 4,
      abilitystart: "E",
      keystoneStart: "PhaseRush",
      tips: [
        "He is very strong early game",
        "Hide behind minions to avoid his QQ",
        "Try to tether out his EE",
        "Swiftness boots are essential, you can all-in him if he misses his E.",
        "Try to take chaotic river fights with your jungler.",
      ],
      items: [
    "https://www.mobafire.com/images/item/boots-of-swiftness-64x.png",
  ]
    },

    {
      name: "Orianna",
      difficulty: 5,
      abilitystart: "E",
      keystoneStart: "PhaseRush",
      tips: [
        "Tethering and spacing is the key to this matchup.",
        "Bait and dodge her Q.",
        "Stay away from the ball.",
        "The 1v1 is very difficult, especially once she has mana items",
        "Buy boots early.",
        "Try to play for botlane if the lane is unplayable (Last ditch effort).",
      ],
      items: [
    "https://www.mobafire.com/images/item/boots-of-swiftness-64x.png",
    "https://www.mobafire.com/images/item/mercurys-treads-64x.png",
  ]
    },

        {
      name: "Syndra",
      difficulty: 5,
      abilitystart: "E",
      keystoneStart: "PhaseRush",
      tips: [
        "Tethering and spacing is the key to this matchup.",
        "Bait and dodge her Q.",
        "She is very strong after level 2, try to always dodge her Q-E.",
        "Her E cooldown is long, harass her when it is down.",
        "Play for jungle fights and roams",
      ],
      items: [
    "https://www.mobafire.com/images/item/mercurys-treads-64x.png",
  ]
    },

        {
      name: "Cassiopeia",
      difficulty: 5,
      abilitystart: "Q",
      keystoneStart: "PhaseRush",
      tips: [
        "DODGE.",
        "You're cooked, she does everything you do, but better.",
        "Try to sidestep her Q's",
        "After level 2, she will kill you every time."
      ],
    items: [
    "https://www.mobafire.com/images/item/mercurys-treads-64x.png",
    "https://www.mobafire.com/images/item/spirit-visage-64x.png",
  ]
    },
        {
      name: "Twisted Fate",
      difficulty: 2,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Play around his W cooldown.",
        "When he ults, stay mid and take plates.",
        "Try to help your botlane by warding for his ult.",
        "Tenacity is essential for his gold card.",
        "Be extra cautious of ganks.",
      ],
    items: [
    "https://www.mobafire.com/images/item/mercurys-treads-64x.png",
  ]
    },
    {
      name: "Taliyah",
      difficulty: 2,
      abilitystart: "E",
      keystoneStart: "PhaseRush",
      tips: [
        "She outranges you.",
        "She's very weak before level 9.",
        "Try to hardshove waves and help your team.",
        "You are much stronger in teamfights because of your ultimate.",
        "Proper spacing and tethering is important in this matchup.",
      ],
    },
        {
      name: "Ryze",
      difficulty: 2,
      abilitystart: "Q",
      keystoneStart: "Aery",
      tips: [
        "Try to E Ryze every time he E-Q's the wave.",
        "Match his push or hardshove to prevent him from roaming.",
        "Post 6, you can all-in him with ultimate.",
        "Post 11, he should always beat you in the 1v1.",
        "Hold your E to cancel his escape portal.",
      ],
    },

        {
      name: "Lux",
      difficulty: 2,
      abilitystart: "E",
      keystoneStart: "PhaseRush",
      tips: [
        "She outranges you, it's very important you tether her E.",
        "Post level 8, she will most likely hardshove every wave.",
        "Match her shove and roam to teamfights.",
        "You can all-in her down when her Q is down.",
      ],
    },

    

  ];

  function getImageUrl(name) {
    const cleanName = name.replace(/\s+/g, "").replace(/-/g, "");
    const capitalized = cleanName.charAt(0).toUpperCase() + cleanName.slice(1);
    return `https://ddragon.leagueoflegends.com/cdn/img/champion/splash/${capitalized}_0.jpg`;
  }

  function getPortraitUrl(name) {
    const cleanName = name.replace(/\s+/g, "").replace(/-/g, "");
    const capitalized = cleanName.charAt(0).toUpperCase() + cleanName.slice(1);
    return `https://ddragon.leagueoflegends.com/cdn/15.2.1/img/champion/${capitalized}.png`;
  }

  const infoBox = document.getElementById("info-box");
  const portraitContainer = document.getElementById("portrait-container");
  const searchInput = document.getElementById("search-input");

  const difficultyColors = {
    1: { border: "#4CAF50", shadow: "#388E3C" },   // Green
    2: { border: "#2196F3", shadow: "#1565C0" },   // Blue
    3: { border: "#FFC107", shadow: "#FFA000" },   // Amber
    4: { border: "#FF5722", shadow: "#E64A19" },   // Deep Orange
    5: { border: "#E91E63", shadow: "#C2185B" },   // Pink
  };

  function renderStars(rating) {
    const full = "★".repeat(rating);
    const empty = "☆".repeat(5 - rating);
    return `<span class="stars">${full}${empty}</span>`;
  }

  // League Keywords
const keywordDefinitions = {
  "Tether": "Tethering is the practice of barely walking into the specfic range of your opponents abilities and then quickly exiting when they try to hit you with it. It’s about positioning, spacing, and prediction — you ‘tether’ your distance so you can trade safely and bait abilities.",
  "Tethering": "Tethering is the practice of barely walking into the specfic range of your opponents abilities and then quickly exiting when they try to hit you with it. It’s about positioning, spacing, and prediction — you ‘tether’ your distance so you can trade safely and bait abilities.",
  "Freeze": "Freezing is the act of holding the minion wave near your turret without it going under tower, forcing the enemy to overextend to farm and be vulnerable to ganks.",
  "Freezing": "Freezing is the act of holding the minion wave near your turret without it going under tower, forcing the enemy to overextend to farm and be vulnerable to ganks.",
  "Hardshove": "Hardshoving is pushing out the wave as quickly as possible, usually using most of your abilities."
};

// Replace keywords with clickable/hoverable spans
function makeKeywordsClickable(text) {
  const regex = new RegExp(`\\b(${Object.keys(keywordDefinitions).join("|")})\\b`, "gi");
  return text.replace(regex, (match) => {
    const cleanMatch = match.charAt(0).toUpperCase() + match.slice(1).toLowerCase();
    return `<span class="keyword-term" data-key="${cleanMatch}" title="${keywordDefinitions[cleanMatch] || ""}">${match}</span>`;
  });
}

// Main update function
function updateInfo(character) {
  const ability1 = character.abilitystart;
  const keystone = character.keystoneStart;

  const abilityImg1 = abilityImages[ability1] || "";
  const keystoneImg = KeystoneImages[keystone] || "";

  const bgImage = getImageUrl(character.name);
  infoBox.style.backgroundImage = `url(${bgImage})`;

  let tipsHTML = character.tips
    .map(tip => `<li>${makeKeywordsClickable(tip)}</li>`)
    .join("");

  infoBox.innerHTML = `
    <h2>${character.name}</h2>
    <p><strong>Difficulty:</strong> ${renderStars(character.difficulty)}</p>
    <div class="ability-icons">
      ${abilityImg1 ? `<div><h3>Start with ${ability1}</h3><img src="${abilityImg1}" alt="Ability ${ability1}" class="ability-icon highlight-icon"></div>` : ""}
      ${keystoneImg ? `<div><h3>Take ${keystone.replace(/([A-Z])/g, ' $1').trim()}</h3><img src="${keystoneImg}" alt="Keystone ${keystone}" class="ability-icon highlight-icon"></div>` : ""}
    </div>
    <h3>Tips:</h3>
    <ul>${tipsHTML}</ul>
    ${character.items && character.items.length > 0 ? `
      <h3>Recommended Items:</h3>
      <div class="item-icons">
        ${character.items.map(itemUrl => `<img src="${itemUrl}" class="item-icon" />`).join("")}
      </div>
    ` : ""}
  `;

  // Style and click listener for keywords
  document.querySelectorAll(".keyword-term").forEach(term => {
    term.style.color = "#FFD700";
    term.style.cursor = "pointer";
    term.style.textDecoration = "underline";

    // Click opens popup
    term.addEventListener("click", showKeywordPopup);
  });
}

// Popup creation
function showKeywordPopup(e) {
  const keyword = e.target.dataset.key;
  const explanation = keywordDefinitions[keyword] || "No definition found.";

  const popup = document.createElement("div");
  popup.className = "tether-popup";
  popup.innerHTML = `
    <div class="tether-popup-content">
      <h3>${keyword}</h3>
      <p>${explanation}</p>
      <button id="close-tether">Close</button>
    </div>
  `;
  document.body.appendChild(popup);

  // Close button
  document.getElementById("close-tether").addEventListener("click", () => {
    popup.remove();
  });
}

function createPortrait(character) {
  const img = document.createElement("img");
  img.src = getPortraitUrl(character.name);
  img.alt = character.name;
  img.className = "portrait";
  img.onclick = () => {
    updateInfo(character);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };
  return img;
}

  function populateGroups(filterText = "") {
    portraitContainer.innerHTML = "";

    const groups = {};
    characters.forEach(char => {
      if (!char.name.toLowerCase().includes(filterText.toLowerCase())) return;

      if (!groups[char.difficulty]) groups[char.difficulty] = [];
      groups[char.difficulty].push(char);
    });

    if (Object.keys(groups).length === 0) {
      portraitContainer.innerHTML = "<p style='color:white;'>No characters found.</p>";
      return;
    }

    Object.keys(groups).sort((a,b) => a - b).forEach(difficulty => {
      const groupDiv = document.createElement("div");
      groupDiv.className = "difficulty-group";

      const colors = difficultyColors[difficulty] || { border: "#fff", shadow: "#999" };
      groupDiv.style.borderColor = colors.border;
      groupDiv.style.boxShadow = `0 0 15px ${colors.border}`;

      const heading = document.createElement("h2");
      heading.style.color = colors.border;
      heading.style.textShadow = `0 0 8px ${colors.shadow}`;
      heading.textContent = `${difficulty} Star Difficulty`;
      groupDiv.appendChild(heading);

      const gridDiv = document.createElement("div");
      gridDiv.style.display = "flex";
      gridDiv.style.flexWrap = "wrap";
      gridDiv.style.justifyContent = "center";
      gridDiv.style.gap = "10px";

      groups[difficulty].forEach(character => {
        const portrait = createPortrait(character);
        gridDiv.appendChild(portrait);
      });

      groupDiv.appendChild(gridDiv);
      portraitContainer.appendChild(groupDiv);
    });
  }

  // Initial population
  populateGroups();

  // Listen for search input changes
  searchInput.addEventListener("input", () => {
    const filter = searchInput.value.trim();
    populateGroups(filter);
  });

</script>

</body>
</html>
